(function(t){function e(e){for(var r,s,i=e[0],c=e[1],l=e[2],p=0,d=[];p<i.length;p++)s=i[p],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(r=!1)}r&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},a={app:0},o=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"1af2":function(t,e){t.exports=NProgress},"20bb":function(t,e,n){"use strict";var r=n("9fc9"),a=n.n(r);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("8bbf"),a=n.n(r),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Music")],1)},s=[],i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app"},[r("el-container",{staticClass:"container"},[r("el-header",[r("el-row",[r("el-col",{staticClass:"font-size",attrs:{span:2}},[t._v("悦听")]),r("el-col",{attrs:{span:10,offset:12}},[r("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[r("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.searchSong},slot:"append"})],1)],1)],1)],1),r("el-container",[r("el-container",[r("el-main",[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[r("div",{staticClass:"grid-content bg-purple"},[r("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.hotSongsList,"highlight-current-row":"","show-header":!1,"max-height":"430px",border:""},on:{"row-dblclick":t.playSong}},[r("el-table-column",{attrs:{type:"index",width:"37"}}),r("el-table-column",{attrs:{resizable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name)+" - "+t._s(e.row.artist))]}}])})],1)],1)]),r("el-col",{attrs:{span:12}},[r("div",{staticClass:"grid-content bg-purple"},[r("el-row",{staticClass:"zhen_pos"},[r("el-col",[r("img",{class:t.show?"center move":"center zhen",attrs:{src:n("92fa")}})])],1),r("el-row",{staticClass:"cipan_pos"},[r("el-col",[r("img",{staticClass:"cipan",attrs:{src:n("b54b")}})])],1),r("el-row",{staticClass:"play"},[r("el-col",[r("i",{class:t.show?"iconfont icon-zanting":"iconfont icon-bofang1",on:{click:t.changeShow}})])],1),r("el-row",{staticClass:"cover"},[r("el-col",[r("img",{class:t.show?"rotate_play":"rotate_pause",attrs:{src:t.songDetail.picUrl}})])],1)],1)]),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"grid-content bg-purple"},[r("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.commets,"highlight-current-row":"","show-header":!1,"max-height":"430px",border:""},on:{"row-dblclick":t.playSong}},[r("el-table-column",{attrs:{resizable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-card",[r("el-row",[r("el-col",[t._v(t._s(e.row.content))])],1)],1)]}}])})],1)],1)])],1)],1),r("el-footer",{attrs:{height:"120"}},[r("aplayer",{ref:"aplayerRef",attrs:{audio:t.audio,lrcType:1},on:{pause:t.handlePaused,play:t.handlePlay}})],1)],1)],1)],1),t.close?r("el-tag",{style:[t.pos],attrs:{type:"success",closable:""},on:{close:t.handleClosed}},[t._v("活动眼睛")]):t._e()],1)},c=[],l=(n("4160"),n("fb6a"),n("b0c0"),n("159b"),n("96cf"),n("1da1")),u={name:"Music",data:function(){return{keyword:"",hotSongsList:[],show:!1,songDetail:{picUrl:n("d68e"),songUrl:""},audio:{name:"东西（Cover：林俊呈）",artist:"纳豆",url:"https://cdn.moefe.org/music/mp3/thing.mp3",cover:"https://p1.music.126.net/5zs7IvmLv7KahY3BFzUmrg==/109951163635241613.jpg?param=300y300",lrc:""},commets:[],timeInter:0,screenWidth:document.body.clientWidth,screeHeight:document.body.clientHeight,pos:{position:"absolute",top:"0",left:"0",transition:"7s linear"},top:0,left:0,close:!0}},created:function(){this.getSongList()},methods:{getSongList:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http("top/song?type=7");case 2:if(n=e.sent,r=n.data,200===r.code){e.next=6;break}return e.abrupt("return",t.$message.error("获取失败！"));case 6:r.data.forEach((function(e){t.hotSongsList.push({id:e.id,artist:e.artists[0].name,arId:e.artists[0].id,name:e.name.length>8?e.name.slice(0,8)+"...":e.name})}));case 7:case"end":return e.stop()}}),e)})))()},changeShow:function(){if(this.show=!this.show,!1===this.show)return this.$refs.aplayerRef.pause(),clearInterval(this.timeInter),void(this.timeInter=0);this.$refs.aplayerRef.play(),this.timeInterval()},playSong:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r,a,o,s,i,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$http("song/detail?ids=".concat(t.id));case 2:return r=n.sent,a=r.data,200!==a.code&&e.$message.error("获取歌曲详情失败！"),e.songDetail.picUrl=a.songs[0].al.picUrl,e.audio.cover=a.songs[0].ar.picUrl,e.audio.name=a.songs[0].name,e.audio.artist=a.songs[0].ar[0].name,n.next=11,e.$http("song/url?id=".concat(t.id));case 11:return o=n.sent,e.audio.url=o.data.data[0].url,n.next=15,e.$http("artist/album?id=".concat(t.arId));case 15:return s=n.sent,e.audio.cover=s.data.artist.picUrl,n.next=19,e.$http("lyric?id=".concat(t.id));case 19:return i=n.sent,e.audio.lrc=i.data.lrc.lyric,e.$refs.aplayerRef.play(),n.next=24,e.$http("comment/hot?type=0&id=".concat(t.id));case 24:c=n.sent,e.commets=c.data.hotComments;case 26:case"end":return n.stop()}}),n)})))()},searchSong:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.hotSongsList=[],e.next=3,t.$http("search?keywords=".concat(t.keyword));case 3:n=e.sent,r=n.data,200!==r.code&&t.$message.error("未搜索到相关歌曲！"),r.result.songs.forEach((function(e){t.hotSongsList.push({name:e.name,id:e.id,artist:e.artists[0].name,arId:e.artists[0].id})}));case 7:case"end":return e.stop()}}),e)})))()},handlePaused:function(){this.show=!1},handlePlay:function(){this.show=!0},timeInterval:function(){var t=this;this.timeInter=setInterval((function(){return t.left<t.screenWidth-110&&0==t.top?(t.left+=10,void(t.pos.left=t.left+"px")):t.top<t.screeHeight-60&&t.left>0?(t.top+=10,void(t.pos.top=t.top+"px")):void(t.top>=t.screeHeight-60&&t.left>0?(t.left-=10,t.pos.left=t.left+"px"):(t.top-=10,t.pos.top=t.top+"px"))}),100)},handleClosed:function(){this.close=!1}}},p=u,d=(n("20bb"),n("2877")),f=Object(d["a"])(p,i,c,!1,null,"21cfcdf7",null),h=f.exports,g={name:"App",components:{Music:h}},m=g,b=Object(d["a"])(m,o,s,!1,null,null,null),v=b.exports,w=(n("aede"),n("1af2")),y=n.n(w),x=n("cebe"),_=n.n(x),S=n("cf0d"),k=n.n(S);a.a.use(k.a,{defaultCover:"https://github.com/u3u.png",productionTip:!0}),_.a.interceptors.request.use((function(t){return y.a.start(),t})),_.a.interceptors.response.use((function(t){return y.a.done(),t})),_.a.defaults.baseURL="http://192.168.1.103:3000/",a.a.prototype.$http=_.a,a.a.config.productionTip=!1,new a.a({render:function(t){return t(v)}}).$mount("#app")},"8bbf":function(t,e){t.exports=Vue},"92fa":function(t,e,n){t.exports=n.p+"img/zhen.4330fe49.png"},"9fc9":function(t,e,n){},aede:function(t,e,n){},b54b:function(t,e,n){t.exports=n.p+"img/cipan.789488c4.png"},cebe:function(t,e){t.exports=axios},d68e:function(t,e,n){t.exports=n.p+"img/bg.79a796d2.png"}});
//# sourceMappingURL=app.057669a5.js.map